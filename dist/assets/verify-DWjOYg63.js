import{r as n,u as g,x as y,j as e,C as j,a as i,c as C,P as s,i as v,S,B as b}from"./index-DiONe1dj.js";import{O as w}from"./index.esm-DntwkNH9.js";import{C as P}from"./ChevronLeft-CMKE4jXe.js";import{A as W,a as k}from"./amplifyContext-CK48YWqW.js";import{L as A}from"./LoadingButton-BJRvAxbA.js";import"./CircularProgress-PL28tfjR.js";function B(){const[r,l]=n.useState(""),[c,a]=n.useState(!1),m=g(),[d]=y(),{resendCode:h,emailVerify:u}=n.useContext(W),o=d.get("email"),x=async()=>{a(!0);try{if(r.length!==6){alert("Invalid Code!"),a(!1);return}o&&r&&(await u(o,r),m("/amplify/login")),a(!1)}catch(t){console.log(t),a(!1)}},f=async()=>{try{await h(o)}catch(t){console.log(t)}};return e.jsx(j,{children:e.jsxs(i,{textAlign:"center",py:{sm:6,xs:4},children:[e.jsx(i,{maxWidth:120,margin:"auto",children:e.jsx("img",{src:"/static/pages/email.svg",alt:"email",width:"100%"})}),e.jsx(C,{mt:{sm:4,xs:2},mb:2,fontSize:{sm:52,xs:36},children:"Check your email!"}),e.jsx(s,{mt:.5,margin:"auto",maxWidth:650,color:"text.secondary",fontSize:{sm:18,xs:14},children:"Please check your email inbox for a 6-digit verification code we have sent to your registered email address. Enter the code in the field below to confirm your email and complete the verification process."}),e.jsxs(i,{maxWidth:450,margin:"auto",mt:6,children:[e.jsx(w,{value:r,numInputs:6,onChange:l,placeholder:"------",renderInput:t=>e.jsx(i,{component:"input",...t,sx:{all:"unset",width:70,height:70,fontSize:18,flexBasis:70,borderRadius:4,fontWeight:600,backgroundColor:p=>v(p)?"grey.800":"grey.100",input:{textAlign:"center"},"::placeholder":{color:"text.primary"}}}),containerStyle:{gap:"1rem",justifyContent:"center",marginBottom:"3rem"}}),e.jsx(A,{loading:c,fullWidth:!0,onClick:x,children:"Verify"})]}),e.jsxs(s,{mt:4,fontSize:16,children:["Donâ€™t have a code?"," ",e.jsx(S,{fontWeight:500,color:"error.main",onClick:f,sx:{cursor:"pointer"},children:"Resend code"})]}),e.jsxs(b,{variant:"text",disableRipple:!0,children:[e.jsx(P,{})," Return to sign in"]})]})})}function O(){return e.jsx(k,{children:e.jsx(B,{})})}export{O as default};
